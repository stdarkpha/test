import{V as X,i as q,O as T,s as f,c as wt,a as g,b as St,g as N,d as b,R as $,p as I,e as u,r as Dt,f as kt,h as Et,j as gt,k as D,l as P,m as S,n as A,o as k,q as Mt,P as G,t as U,A as Rt,u as x,v as Z,w as tt,x as It,y as Tt,z as F,B as E,C as At,D as Ft,E as et,F as qt,G as $t,H as Bt}from"./Dw7sBIiY.js";import{E as Lt,l as Ut}from"./BLqcVgY0.js";import"./DUbJkhh_.js";import"./Ds7YRkWK.js";import"./BqAHsCmE.js";import"./BkWftZAM.js";import"./BBZcHviP.js";import"./x_rD_Ya3.js";import"./BpJ91TH4.js";import"./otaDCx8Q.js";class Gt{constructor(){this.radius=0,this.mass=0}load(t){t&&(t.mass!==void 0&&(this.mass=t.mass),t.radius!==void 0&&(this.radius=t.radius))}}class Vt extends X{constructor(){super(),this.density=5,this.value=50,this.limit=new Gt}load(t){t&&(super.load(t),t.density!==void 0&&(this.density=t.density),q(t.limit)?this.limit.radius=t.limit:this.limit.load(t.limit))}}class V{constructor(){this.color=new T,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Vt}load(t){t!==void 0&&(t.color!==void 0&&(this.color=T.create(this.color,t.color)),t.draggable!==void 0&&(this.draggable=t.draggable),this.name=t.name,t.opacity!==void 0&&(this.opacity=t.opacity),t.position!==void 0&&(this.position={},t.position.x!==void 0&&(this.position.x=f(t.position.x)),t.position.y!==void 0&&(this.position.y=f(t.position.y))),t.size!==void 0&&this.size.load(t.size),t.destroy!==void 0&&(this.destroy=t.destroy),t.orbits!==void 0&&(this.orbits=t.orbits))}}var W;(function(s){s.absorber="absorber"})(W||(W={}));const Wt=2,Ht=.033,jt=0,Xt=0,Jt=0,it={x:0,y:0},Kt=0,Qt=2,st=Math.PI*Qt,nt=0;class Yt{constructor(t,e,i,n){var a;this.absorbers=t,this.container=e,this._calcPosition=()=>{const r=wt({size:this.container.canvas.size,position:this.options.position});return g.create(r.x,r.y)},this._updateParticlePosition=(r,l)=>{if(r.destroyed)return;const h=this.container,d=h.canvas.size;if(r.needsNewPosition){const c=St({size:d});r.position.setTo(c),r.velocity.setTo(r.initialVelocity),r.absorberOrbit=void 0,r.needsNewPosition=!1}if(this.options.orbits){if(r.absorberOrbit===void 0&&(r.absorberOrbit=g.origin,r.absorberOrbit.length=N(r.getPosition(),this.position),r.absorberOrbit.angle=b()*st),r.absorberOrbit.length<=this.size&&!this.options.destroy){const w=Math.min(d.width,d.height),O=1,J=.1,K=.2;r.absorberOrbit.length=w*(O+(b()*K-J))}r.absorberOrbitDirection===void 0&&(r.absorberOrbitDirection=r.velocity.x>=nt?$.clockwise:$.counterClockwise);const c=r.absorberOrbit.length,p=r.absorberOrbit.angle,y=r.absorberOrbitDirection;r.velocity.setTo(g.origin);const m={x:y===$.clockwise?Math.cos:Math.sin,y:y===$.clockwise?Math.sin:Math.cos};r.position.x=this.position.x+c*m.x(p),r.position.y=this.position.y+c*m.y(p),r.absorberOrbit.length-=l.length,r.absorberOrbit.angle+=(r.retina.moveSpeed??nt)*h.retina.pixelRatio/I*h.retina.reduceFactor}else{const c=g.origin;c.length=l.length,c.angle=l.angle,r.velocity.addTo(c)}},this.initialPosition=n?g.create(n.x,n.y):void 0,i instanceof V?this.options=i:(this.options=new V,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=u(this.options.size.value)*e.retina.pixelRatio,this.mass=this.size*this.options.size.density*e.retina.reduceFactor;const o=this.options.size.limit;this.limit={radius:o.radius*e.retina.pixelRatio*e.retina.reduceFactor,mass:o.mass},this.color=Dt(this.options.color)??{b:0,g:0,r:0},this.position=((a=this.initialPosition)==null?void 0:a.copy())??this._calcPosition()}attract(t){const e=this.container,i=this.options;if(i.draggable){const h=e.interactivity.mouse;h.clicking&&h.downPosition?N(this.position,h.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&h.position&&(this.position.x=h.position.x,this.position.y=h.position.y)}const n=t.getPosition(),{dx:o,dy:a,distance:r}=kt(this.position,n),l=g.create(o,a);if(l.length=this.mass/Math.pow(r,Wt)*e.retina.reduceFactor,r<this.size+t.getRadius()){const h=t.getRadius()*Ht*e.retina.pixelRatio;this.size>t.getRadius()&&r<this.size-t.getRadius()||t.absorberOrbit!==void 0&&t.absorberOrbit.length<jt?i.destroy?t.destroy():(t.needsNewPosition=!0,this._updateParticlePosition(t,l)):(i.destroy&&(t.size.value-=h),this._updateParticlePosition(t,l)),(this.limit.radius<=Xt||this.size<this.limit.radius)&&(this.size+=h),(this.limit.mass<=Jt||this.mass<this.limit.mass)&&(this.mass+=h*this.options.size.density*e.retina.reduceFactor)}else this._updateParticlePosition(t,l)}draw(t){t.translate(this.position.x,this.position.y),t.beginPath(),t.arc(it.x,it.y,this.size,Kt,st,!1),t.closePath(),t.fillStyle=Et(this.color,this.opacity),t.fill()}resize(){const t=this.initialPosition;this.position=t&&gt(t,this.container.canvas.size,g.origin)?t:this._calcPosition()}}const ot=0;class Zt{constructor(t){this.container=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],t.getAbsorber=e=>e===void 0||q(e)?this.array[e??ot]:this.array.find(i=>i.name===e),t.addAbsorber=async(e,i)=>this.addAbsorber(e,i)}async addAbsorber(t,e){const i=new Yt(this,this.container,t,e);return this.array.push(i),Promise.resolve(i)}draw(t){for(const e of this.array)e.draw(t)}handleClickMode(t){const e=this.absorbers,i=this.interactivityAbsorbers;if(t===W.absorber){const n=D(i),o=n??D(e),a=this.container.interactivity.mouse.clickPosition;this.addAbsorber(o,a)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers;const t=P(this.absorbers,async e=>{await this.addAbsorber(e)});t instanceof Array?await Promise.all(t):await t}particleUpdate(t){for(const e of this.array)if(e.attract(t),t.destroyed)break}removeAbsorber(t){const e=this.array.indexOf(t);e>=ot&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}}class Nt{constructor(){this.id="absorbers"}async getPlugin(t){return Promise.resolve(new Zt(t))}loadOptions(t,e){var i,n;!this.needsPlugin(t)&&!this.needsPlugin(e)||(e!=null&&e.absorbers&&(t.absorbers=P(e.absorbers,o=>{const a=new V;return a.load(o),a})),t.interactivity.modes.absorbers=P((n=(i=e==null?void 0:e.interactivity)==null?void 0:i.modes)==null?void 0:n.absorbers,o=>{const a=new V;return a.load(o),a}))}needsPlugin(t){var i,n,o;if(!t)return!1;const e=t.absorbers;return S(e)?!!e.length:e?!0:!!((o=(n=(i=t.interactivity)==null?void 0:i.events)==null?void 0:n.onClick)!=null&&o.mode&&A(W.absorber,t.interactivity.events.onClick.mode))}}async function te(s,t=!0){await s.addPlugin(new Nt,t)}class ee{load(t){t&&(t.bottom!==void 0&&(this.bottom=f(t.bottom)),t.left!==void 0&&(this.left=f(t.left)),t.right!==void 0&&(this.right=f(t.right)),t.top!==void 0&&(this.top=f(t.top)))}}var H;(function(s){s.none="none",s.split="split"})(H||(H={}));class ie extends X{constructor(){super(),this.value=3}}class se extends X{constructor(){super(),this.value={min:4,max:9}}}class ne{constructor(){this.count=1,this.factor=new ie,this.rate=new se,this.sizeOffset=!0}load(t){t&&(t.color!==void 0&&(this.color=T.create(this.color,t.color)),t.count!==void 0&&(this.count=t.count),this.factor.load(t.factor),this.rate.load(t.rate),this.particles=P(t.particles,e=>k({},e)),t.sizeOffset!==void 0&&(this.sizeOffset=t.sizeOffset),t.colorOffset&&(this.colorOffset=this.colorOffset??{},t.colorOffset.h!==void 0&&(this.colorOffset.h=t.colorOffset.h),t.colorOffset.s!==void 0&&(this.colorOffset.s=t.colorOffset.s),t.colorOffset.l!==void 0&&(this.colorOffset.l=t.colorOffset.l)))}}class oe{constructor(){this.bounds=new ee,this.mode=H.none,this.split=new ne}load(t){t&&(t.mode&&(this.mode=t.mode),t.bounds&&this.bounds.load(t.bounds),this.split.load(t.split))}}const B=0,re=.5,ae=0,le=1,he=500,ce=0;function de(s,t,e,i){const n=e.options.destroy;if(!n)return;const o=n.split,a=Mt(s,t,e.options),r=u(o.factor.value),l=e.getFillColor();o.color?a.color.load(o.color):o.colorOffset&&l?a.color.load({value:{hsl:{h:l.h+u(o.colorOffset.h??B),s:l.s+u(o.colorOffset.s??B),l:l.l+u(o.colorOffset.l??B)}}}):a.color.load({value:{hsl:e.getFillColor()}}),a.move.load({center:{x:e.position.x,y:e.position.y,mode:G.precise}}),q(a.size.value)?a.size.value/=r:(a.size.value.min/=r,a.size.value.max/=r),a.load(i);const h=o.sizeOffset?f(-e.size.value,e.size.value):B,d={x:e.position.x+U(h),y:e.position.y+U(h)};return t.particles.addParticle(d,a,e.group,c=>c.size.value<re?!1:(c.velocity.length=U(f(e.velocity.length,c.velocity.length)),c.splitCount=(e.splitCount??ae)+le,c.unbreakable=!0,setTimeout(()=>{c.unbreakable=!1},he),!0))}function ue(s,t,e){const i=e.options.destroy;if(!i)return;const n=i.split;if(n.count>=ce&&(e.splitCount===void 0||e.splitCount++>n.count))return;const o=u(n.rate.value),a=D(n.particles);for(let r=0;r<o;r++)de(s,t,e,a)}class fe{constructor(t,e){this.container=e,this.engine=t}init(t){const e=this.container,i=t.options,n=i.destroy;if(!n)return;t.splitCount=0;const o=n.bounds;t.destroyBounds||(t.destroyBounds={});const{bottom:a,left:r,right:l,top:h}=o,{destroyBounds:d}=t,c=e.canvas.size;a&&(d.bottom=u(a)*c.height/I),r&&(d.left=u(r)*c.width/I),l&&(d.right=u(l)*c.width/I),h&&(d.top=u(h)*c.height/I)}isEnabled(t){return!t.destroyed}loadOptions(t,...e){t.destroy||(t.destroy=new oe);for(const i of e)t.destroy.load(i==null?void 0:i.destroy)}particleDestroyed(t,e){if(e)return;const i=t.options.destroy;i&&i.mode===H.split&&ue(this.engine,this.container,t)}update(t){if(!this.isEnabled(t))return;const e=t.getPosition(),i=t.destroyBounds;i&&(i.bottom!==void 0&&e.y>=i.bottom||i.left!==void 0&&e.x<=i.left||i.right!==void 0&&e.x>=i.right||i.top!==void 0&&e.y<=i.top)&&t.destroy()}}async function pe(s,t=!0){await s.addParticleUpdater("destroy",e=>Promise.resolve(new fe(s,e)),t)}class me{constructor(){this.wait=!1}load(t){t&&(t.count!==void 0&&(this.count=t.count),t.delay!==void 0&&(this.delay=f(t.delay)),t.duration!==void 0&&(this.duration=f(t.duration)),t.wait!==void 0&&(this.wait=t.wait))}}class ye{constructor(){this.quantity=1,this.delay=.1}load(t){t!==void 0&&(t.quantity!==void 0&&(this.quantity=f(t.quantity)),t.delay!==void 0&&(this.delay=f(t.delay)))}}class be{constructor(){this.color=!1,this.opacity=!1}load(t){t&&(t.color!==void 0&&(this.color=t.color),t.opacity!==void 0&&(this.opacity=t.opacity))}}class we{constructor(){this.options={},this.replace=new be,this.type="square"}load(t){t&&(t.options!==void 0&&(this.options=k({},t.options??{})),this.replace.load(t.replace),t.type!==void 0&&(this.type=t.type))}}class vt{constructor(){this.mode=G.percent,this.height=0,this.width=0}load(t){t!==void 0&&(t.mode!==void 0&&(this.mode=t.mode),t.height!==void 0&&(this.height=t.height),t.width!==void 0&&(this.width=t.width))}}class v{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new me,this.rate=new ye,this.shape=new we,this.startCount=0}load(t){t&&(t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.size!==void 0&&(this.size||(this.size=new vt),this.size.load(t.size)),t.direction!==void 0&&(this.direction=t.direction),this.domId=t.domId,t.fill!==void 0&&(this.fill=t.fill),this.life.load(t.life),this.name=t.name,this.particles=P(t.particles,e=>k({},e)),this.rate.load(t.rate),this.shape.load(t.shape),t.position!==void 0&&(this.position={},t.position.x!==void 0&&(this.position.x=f(t.position.x)),t.position.y!==void 0&&(this.position.y=f(t.position.y))),t.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Rt),this.spawnColor.load(t.spawnColor)),t.startCount!==void 0&&(this.startCount=t.startCount))}}var j;(function(s){s.emitter="emitter"})(j||(j={}));const rt=.5,at=0,L=0,lt=0,ge=0,ve=-1,_e=1;function ht(s,t){s.color?s.color.value=t:s.color={value:t}}class Pe{constructor(t,e,i,n,o){var h,d;this.emitters=e,this.container=i,this._destroy=()=>{var c,p;(c=this._mutationObserver)==null||c.disconnect(),this._mutationObserver=void 0,(p=this._resizeObserver)==null||p.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var m;if(this._paused)return;const c=((m=this.options.life)==null?void 0:m.duration)!==void 0?u(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&c!==void 0&&c>0&&(this._duration=c*x)},this._setColorAnimation=(c,p,y,m=_e)=>{const w=this.container;if(!c.enable)return p;const O=U(c.offset),J=u(this.options.rate.delay),K=J*x/w.retina.reduceFactor,Ot=0,Ct=u(c.speed??Ot);return(p+Ct*w.fpsLimit/K+O*m)%y},this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=o,n instanceof v?this.options=n:(this.options=new v,this.options.load(n)),this._spawnDelay=u(this.options.life.delay??at)*x/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let a=k({},this.options.particles);if(a??(a={}),a.move??(a.move={}),(h=a.move).direction??(h.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Z(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=a,this._size=this._calcSize(),this.size=tt(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??ve,this._immortal=this._lifeCount<=L,this.options.domId){const c=document.getElementById(this.options.domId);c&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(c,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(c))}const r=this.options.shape,l=(d=this._engine.emitterShapeManager)==null?void 0:d.getShapeGenerator(r.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,r.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var t;await((t=this._shape)==null?void 0:t.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>L||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??lt))){if(this._emitDelay===void 0){const t=u(this.options.rate.delay);this._emitDelay=t*x/this.container.retina.reduceFactor}(this._lifeCount>L||this._immortal)&&this._prepareToDie()}}resize(){var e;const t=this._initialPosition;this.position=t&&gt(t,this.container.canvas.size,g.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=tt(this._size,this.container.canvas.size),(e=this._shape)==null||e.resize(this.position,this.size)}update(t){var e;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??lt,this._currentEmitDelay=this._emitDelay??ge),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=t.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>L||this._immortal?(this.position=this._calcPosition(),(e=this._shape)==null||e.resize(this.position,this.size),this._spawnDelay=u(this.options.life.delay??at)*x/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=t.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=t.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const e=t.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(e.x+e.width*rt)*i,y:(e.y+e.height*rt)*i}}}return wt({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const t=this.container;if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const i=e.getBoundingClientRect();return{width:i.width*t.retina.pixelRatio,height:i.height*t.retina.pixelRatio,mode:G.precise}}}return this.options.size??(()=>{const e=new vt;return e.load({height:0,mode:G.percent,width:0}),e})()}_emit(){if(this._paused)return;const t=u(this.options.rate.quantity);this._emitParticles(t)}_emitParticles(t){var i;const e=D(this._particlesOptions);for(let n=0;n<t;n++){const o=k({},e);if(this.spawnColor){const l=(i=this.options.spawnColor)==null?void 0:i.animation;if(l){const h={h:360,s:100,l:100},d=3.6;this.spawnColor.h=this._setColorAnimation(l.h,this.spawnColor.h,h.h,d),this.spawnColor.s=this._setColorAnimation(l.s,this.spawnColor.s,h.s),this.spawnColor.l=this._setColorAnimation(l.l,this.spawnColor.l,h.l)}ht(o,this.spawnColor)}const a=this.options.shape;let r=this.position;if(this._shape){const l=this._shape.randomPosition();if(l){r=l.position;const h=a.replace;h.color&&l.color&&ht(o,l.color),h.opacity&&(o.opacity?o.opacity.value=l.opacity:o.opacity={value:l.opacity})}else r=null}r&&this.container.particles.addParticle(r,o)}}}class xe{constructor(t,e){this.container=e,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;e.getEmitter=n=>n===void 0||q(n)?this.array[n??i]:this.array.find(o=>o.name===n),e.addEmitter=async(n,o)=>this.addEmitter(n,o),e.removeEmitter=n=>{const o=e.getEmitter(n);o&&this.removeEmitter(o)},e.playEmitter=n=>{const o=e.getEmitter(n);o&&o.externalPlay()},e.pauseEmitter=n=>{const o=e.getEmitter(n);o&&o.externalPause()}}async addEmitter(t,e){const i=new v;i.load(t);const n=new Pe(this._engine,this,this.container,i,e);return await n.init(),this.array.push(n),n}handleClickMode(t){const e=this.emitters,i=this.interactivityEmitters;if(t!==j.emitter)return;let n;if(i&&S(i.value))if(i.value.length>0&&i.random.enable){n=[];const l=[];for(let h=0;h<i.random.count;h++){const d=It(i.value);if(l.includes(d)&&l.length<i.value.length){h--;continue}l.push(d),n.push(Tt(i.value,d))}}else n=i.value;else n=i==null?void 0:i.value;const o=n??e,a=this.container.interactivity.mouse.clickPosition;P(o,async r=>{await this.addEmitter(r,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(S(this.emitters))for(const t of this.emitters)await this.addEmitter(t);else await this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const e=this.array.indexOf(t);e>=0&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const e of this.array)e.update(t)}}class ze{constructor(t){this._engine=t,this.id="emitters"}getPlugin(t){return Promise.resolve(new xe(this._engine,t))}loadOptions(t,e){var n,o;if(!this.needsPlugin(t)&&!this.needsPlugin(e))return;e!=null&&e.emitters&&(t.emitters=P(e.emitters,a=>{const r=new v;return r.load(a),r}));const i=(o=(n=e==null?void 0:e.interactivity)==null?void 0:n.modes)==null?void 0:o.emitters;if(i)if(S(i))t.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(a=>{const r=new v;return r.load(a),r})};else{const a=i;if(a.value!==void 0)if(S(a.value))t.interactivity.modes.emitters={random:{count:a.random.count??1,enable:a.random.enable??!1},value:a.value.map(l=>{const h=new v;return h.load(l),h})};else{const l=new v;l.load(a.value),t.interactivity.modes.emitters={random:{count:a.random.count??1,enable:a.random.enable??!1},value:l}}else(t.interactivity.modes.emitters={random:{count:1,enable:!1},value:new v}).value.load(i)}}needsPlugin(t){var i,n,o;if(!t)return!1;const e=t.emitters;return S(e)&&!!e.length||e!==void 0||!!((o=(n=(i=t.interactivity)==null?void 0:i.events)==null?void 0:n.onClick)!=null&&o.mode)&&A(j.emitter,t.interactivity.events.onClick.mode)}}const Q=new Map;class Oe{constructor(t){this._engine=t}addShapeGenerator(t,e){this.getShapeGenerator(t)||Q.set(t,e)}getShapeGenerator(t){return Q.get(t)}getSupportedShapeGenerators(){return Q.keys()}}class _t{constructor(t,e,i,n){this.position=t,this.size=e,this.fill=i,this.options=n}resize(t,e){this.position=t,this.size=e}}async function Ce(s,t=!0){s.emitterShapeManager||(s.emitterShapeManager=new Oe(s)),s.addEmitterShapeGenerator||(s.addEmitterShapeGenerator=(i,n)=>{var o;(o=s.emitterShapeManager)==null||o.addShapeGenerator(i,n)});const e=new ze(s);await s.addPlugin(e,t)}const M=.25,Y=2,Se=Math.PI*Y,ct=2,dt=.5;class De extends _t{constructor(t,e,i,n){super(t,e,i,n)}async init(){}randomPosition(){const t=this.size,e=this.fill,i=this.position,n=(c,p)=>{const y=b()*M,m=Math.atan(p/c*Math.tan(Se*y)),w=b();return w<M?m:w<Y*M?Math.PI-m:w<Y*M+M?Math.PI+m:-m},o=(c,p,y)=>c*p/Math.sqrt((p*Math.cos(y))**ct+(c*Math.sin(y))**ct),[a,r]=[t.width*dt,t.height*dt],l=n(a,r),h=o(a,r,l),d=e?h*Math.sqrt(b()):h;return{position:{x:i.x+d*Math.cos(l),y:i.y+d*Math.sin(l)}}}}class ke{generate(t,e,i,n){return new De(t,e,i,n)}}async function Ee(s,t=!0){var i;const e=s;(i=e.addEmitterShapeGenerator)==null||i.call(e,"circle",new ke),await e.refresh(t)}const ut=.5,Me=4,Re=2;var C;(function(s){s[s.TopLeft=0]="TopLeft",s[s.TopRight=1]="TopRight",s[s.BottomRight=2]="BottomRight",s[s.BottomLeft=3]="BottomLeft"})(C||(C={}));function ft(s,t){return s+t*(b()-F)}class Ie extends _t{constructor(t,e,i,n){super(t,e,i,n)}async init(){}randomPosition(){const t=this.fill,e=this.position,i=this.size;if(t)return{position:{x:ft(e.x,i.width),y:ft(e.y,i.height)}};{const n=i.width*ut,o=i.height*ut,a=Math.floor(b()*Me),r=(b()-F)*Re;switch(a){case C.TopLeft:return{position:{x:e.x+r*n,y:e.y-o}};case C.TopRight:return{position:{x:e.x-n,y:e.y+r*o}};case C.BottomRight:return{position:{x:e.x+r*n,y:e.y+o}};case C.BottomLeft:default:return{position:{x:e.x+n,y:e.y+r*o}}}}}}class Te{generate(t,e,i,n){return new Ie(t,e,i,n)}}async function Ae(s,t=!0){var i;const e=s;(i=e.addEmitterShapeGenerator)==null||i.call(e,"square",new Te),await e.refresh(t)}class Fe{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(t){t&&(t.delay!==void 0&&(this.delay=t.delay),t.quantity!==void 0&&(this.quantity=t.quantity),t.particles!==void 0&&(this.particles=k({},t.particles)),t.pauseOnStop!==void 0&&(this.pauseOnStop=t.pauseOnStop))}}const pt="trail";class qe extends Lt{constructor(t){super(t),this._delay=0}clear(){}init(){}interact(t){var h,d,c,p;const e=this.container,{interactivity:i}=e;if(!e.retina.reduceFactor)return;const n=e.actualOptions,o=n.interactivity.modes.trail;if(!o)return;const a=o.delay*x/this.container.retina.reduceFactor;if(this._delay<a&&(this._delay+=t.value),this._delay<a)return;const r=!(o.pauseOnStop&&(i.mouse.position===this._lastPosition||((h=i.mouse.position)==null?void 0:h.x)===((d=this._lastPosition)==null?void 0:d.x)&&((c=i.mouse.position)==null?void 0:c.y)===((p=this._lastPosition)==null?void 0:p.y))),l=e.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,r&&e.particles.push(o.quantity,e.interactivity.mouse,o.particles),this._delay-=a}isEnabled(t){const e=this.container,i=e.actualOptions,n=e.interactivity.mouse,o=((t==null?void 0:t.interactivity)??i.interactivity).events;return n.clicking&&n.inside&&!!n.position&&A(pt,o.onClick.mode)||n.inside&&!!n.position&&A(pt,o.onHover.mode)}loadModeOptions(t,...e){t.trail||(t.trail=new Fe);for(const i of e)t.trail.load(i==null?void 0:i.trail)}reset(){}}async function $e(s,t=!0){await s.addInteractor("externalTrail",e=>Promise.resolve(new qe(e)),t)}var z;(function(s){s.both="both",s.horizontal="horizontal",s.vertical="vertical"})(z||(z={}));const Be=2,Pt=Math.PI*Be,Le=360;function Ue(s){const t=s.options.roll;if(!(t!=null&&t.enable)){s.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(s.roll={enable:t.enable,horizontal:t.mode===z.horizontal||t.mode===z.both,vertical:t.mode===z.vertical||t.mode===z.both,angle:b()*Pt,speed:u(t.speed)/Le},t.backColor)s.backColor=Z(t.backColor);else if(t.darken.enable&&t.enlighten.enable){const e=b()>=F?E.darken:E.enlighten;s.roll.alter={type:e,value:u(e===E.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?s.roll.alter={type:E.darken,value:u(t.darken.value)}:t.enlighten.enable&&(s.roll.alter={type:E.enlighten,value:u(t.enlighten.value)})}function Ge(s,t){const e=s.options.roll,i=s.roll;if(!i||!(e!=null&&e.enable))return;const n=i.speed*t.factor,o=Pt;i.angle+=n,i.angle>o&&(i.angle-=o)}class mt{constructor(){this.enable=!1,this.value=0}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.value!==void 0&&(this.value=f(t.value)))}}class Ve{constructor(){this.darken=new mt,this.enable=!1,this.enlighten=new mt,this.mode=z.vertical,this.speed=25}load(t){t&&(t.backColor!==void 0&&(this.backColor=T.create(this.backColor,t.backColor)),this.darken.load(t.darken),t.enable!==void 0&&(this.enable=t.enable),this.enlighten.load(t.enlighten),t.mode!==void 0&&(this.mode=t.mode),t.speed!==void 0&&(this.speed=f(t.speed)))}}class We{getTransformValues(t){var o;const e=((o=t.roll)==null?void 0:o.enable)&&t.roll,i=e&&e.horizontal,n=e&&e.vertical;return{a:i?Math.cos(e.angle):void 0,d:n?Math.sin(e.angle):void 0}}init(t){Ue(t)}isEnabled(t){const e=t.options.roll;return!t.destroyed&&!t.spawning&&!!(e!=null&&e.enable)}loadOptions(t,...e){t.roll||(t.roll=new Ve);for(const i of e)t.roll.load(i==null?void 0:i.roll)}update(t,e){this.isEnabled(t)&&Ge(t,e)}}async function He(s,t=!0){await s.addParticleUpdater("roll",()=>Promise.resolve(new We),t)}const xt=2,yt=.5;function je(s){const{context:t,particle:e,radius:i,opacity:n}=s,o=e.shapeData;if(!o)return;const a=o.value;if(a===void 0)return;e.text===void 0&&(e.text=D(a,e.randomIndexData));const r=e.text,l=o.style??"",h=o.weight??"400",d=Math.round(i)*xt,c=o.font??"Verdana",p=e.shapeFill,y=r==null?void 0:r.split(`
`);if(y){t.font=`${l} ${h} ${d}px "${c}"`,t.globalAlpha=n;for(let m=0;m<y.length;m++)Xe(t,y[m],i,n,m,p);t.globalAlpha=1}}function Xe(s,t,e,i,n,o){const a=t.length*e*yt,r={x:-a,y:e*yt},l=e*xt;o?s.fillText(t,r.x,r.y+l*n):s.strokeText(t,r.x,r.y+l*n)}class Je{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(t){je(t)}async init(t){const e=t.actualOptions,{validTypes:i}=this;if(i.find(n=>A(n,e.particles.shape.type))){const n=i.map(a=>e.particles.shape.options[a]).find(a=>!!a),o=[];P(n,a=>{o.push(At(a.font,a.weight))}),await Promise.all(o)}}particleInit(t,e){if(!e.shape||!this.validTypes.includes(e.shape))return;const i=e.shapeData;if(i===void 0)return;const n=i.value;n!==void 0&&(e.text=D(n,e.randomIndexData))}}async function Ke(s,t=!0){await s.addShape(new Je,t)}var _;(function(s){s.clockwise="clockwise",s.counterClockwise="counter-clockwise",s.random="random"})(_||(_={}));class Qe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){t&&(t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0&&(this.speed=f(t.speed)),t.decay!==void 0&&(this.decay=f(t.decay)),t.sync!==void 0&&(this.sync=t.sync))}}class Ye extends X{constructor(){super(),this.animation=new Qe,this.direction=_.clockwise,this.enable=!1,this.value=0}load(t){super.load(t),t&&(this.animation.load(t.animation),t.direction!==void 0&&(this.direction=t.direction),t.enable!==void 0&&(this.enable=t.enable))}}const R=1,zt=2,Ze=Math.PI*zt,Ne=360;class ti{constructor(t){this.container=t}getTransformValues(t){var i;const e=((i=t.tilt)==null?void 0:i.enable)&&t.tilt;return{b:e?Math.cos(e.value)*e.cosDirection:void 0,c:e?Math.sin(e.value)*e.sinDirection:void 0}}init(t){var o;const e=t.options.tilt;if(!e)return;t.tilt={enable:e.enable,value:Ft(u(e.value)),sinDirection:b()>=F?R:-R,cosDirection:b()>=F?R:-R,min:0,max:Ze};let i=e.direction;switch(i===_.random&&(i=Math.floor(b()*zt)>0?_.counterClockwise:_.clockwise),i){case _.counterClockwise:case"counterClockwise":t.tilt.status=et.decreasing;break;case _.clockwise:t.tilt.status=et.increasing;break}const n=(o=t.options.tilt)==null?void 0:o.animation;n!=null&&n.enable&&(t.tilt.decay=R-u(n.decay),t.tilt.velocity=u(n.speed)/Ne*this.container.retina.reduceFactor,n.sync||(t.tilt.velocity*=b()))}isEnabled(t){var i;const e=(i=t.options.tilt)==null?void 0:i.animation;return!t.destroyed&&!t.spawning&&!!(e!=null&&e.enable)}loadOptions(t,...e){t.tilt||(t.tilt=new Ye);for(const i of e)t.tilt.load(i==null?void 0:i.tilt)}async update(t,e){!this.isEnabled(t)||!t.tilt||(qt(t,t.tilt,!1,$t.none,e),await Promise.resolve())}}async function ei(s,t=!0){await s.addParticleUpdater("tilt",e=>Promise.resolve(new ti(e)),t)}class bt{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(t){t&&(t.color!==void 0&&(this.color=T.create(this.color,t.color)),t.enable!==void 0&&(this.enable=t.enable),t.frequency!==void 0&&(this.frequency=t.frequency),t.opacity!==void 0&&(this.opacity=f(t.opacity)))}}class ii{constructor(){this.lines=new bt,this.particles=new bt}load(t){t&&(this.lines.load(t.lines),this.particles.load(t.particles))}}class si{getColorStyles(t,e,i,n){const o=t.options,a=o.twinkle;if(!a)return{};const r=a.particles,l=r.enable&&b()<r.frequency,h=t.options.zIndex,d=1,c=(d-t.zIndexFactor)**h.opacityRate,p=l?u(r.opacity)*c:n,y=Z(r.color),m=y?Bt(y,p):void 0,w={},O=l&&m;return w.fill=O?m:void 0,w.stroke=O?m:void 0,w}async init(){await Promise.resolve()}isEnabled(t){const e=t.options,i=e.twinkle;return i?i.particles.enable:!1}loadOptions(t,...e){t.twinkle||(t.twinkle=new ii);for(const i of e)t.twinkle.load(i==null?void 0:i.twinkle)}async update(){await Promise.resolve()}}async function ni(s,t=!0){await s.addParticleUpdater("twinkle",()=>Promise.resolve(new si),t)}class oi{constructor(){this.angle=50,this.move=10}load(t){t&&(t.angle!==void 0&&(this.angle=f(t.angle)),t.move!==void 0&&(this.move=f(t.move)))}}class ri{constructor(){this.distance=5,this.enable=!1,this.speed=new oi}load(t){if(t&&(t.distance!==void 0&&(this.distance=f(t.distance)),t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0))if(q(t.speed))this.speed.load({angle:t.speed});else{const e=t.speed;e.min!==void 0?this.speed.load({angle:e}):this.speed.load(t.speed)}}}const ai=0,li=2,hi=Math.PI*li,ci=60;function di(s,t){const{wobble:e}=s.options,{wobble:i}=s;if(!(e!=null&&e.enable)||!i)return;const n=i.angleSpeed*t.factor,o=i.moveSpeed*t.factor,a=o*((s.retina.wobbleDistance??ai)*t.factor)/(x/ci),r=hi,{position:l}=s;i.angle+=n,i.angle>r&&(i.angle-=r),l.x+=a*Math.cos(i.angle),l.y+=a*Math.abs(Math.sin(i.angle))}const ui=2,fi=Math.PI*ui,pi=360,mi=10,yi=0;class bi{constructor(t){this.container=t}init(t){const e=t.options.wobble;e!=null&&e.enable?t.wobble={angle:b()*fi,angleSpeed:u(e.speed.angle)/pi,moveSpeed:u(e.speed.move)/mi}:t.wobble={angle:0,angleSpeed:0,moveSpeed:0},t.retina.wobbleDistance=u((e==null?void 0:e.distance)??yi)*this.container.retina.pixelRatio}isEnabled(t){var e;return!t.destroyed&&!t.spawning&&!!((e=t.options.wobble)!=null&&e.enable)}loadOptions(t,...e){t.wobble||(t.wobble=new ri);for(const i of e)t.wobble.load(i==null?void 0:i.wobble)}update(t,e){this.isEnabled(t)&&di(t,e)}}async function wi(s,t=!0){await s.addParticleUpdater("wobble",e=>Promise.resolve(new bi(e)),t)}async function ki(s,t=!0){await pe(s,!1),await He(s,!1),await ei(s,!1),await ni(s,!1),await wi(s,!1),await Ke(s,!1),await $e(s,!1),await te(s,!1),await Ce(s,!1),await Ee(s,!1),await Ae(s,!1),await Ut(s,t)}export{ki as loadFull};
