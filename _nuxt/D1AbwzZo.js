import{c as w,f as g,g as y,S as u,d as h,r as n,a as s,b as l,e as S,u as d,h as m,s as b}from"./BBZcHviP.js";import{i as r,r as D}from"./DLaFJkFB.js";import{c as I}from"./Ds7YRkWK.js";const R=I([]),f=async()=>{try{const t=w(g,"design"),e=await y(t);R.value=e.docs.map(a=>({id:a.id,...a.data()})).sort((a,o)=>o.id.localeCompare(a.id))}catch(t){throw console.error("Error fetching design data:",t),t}},B=async(t,e)=>{if((await u.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",confirmButtonColor:"#ef4444",cancelButtonText:"Cancel"})).isConfirmed)try{const o=h(g,"design",t),i=n(s,`design/${e}`);await l(i);const c=n(s,`design/thumbnail_${e}`);await l(c),await S(o),await f(),r("Project Has Been Deleted",{theme:localStorage.getItem("theme")=="dark"?"dark":"auto",type:"success",position:"bottom-right",dangerouslyHTMLString:!0})}catch(o){r("Error deleting project, "+o,{theme:localStorage.getItem("theme")=="dark"?"dark":"auto",type:"error",position:"bottom-right",dangerouslyHTMLString:!0})}},H=async t=>{if(t)try{const e=t.name;console.log("Original File Name",e);const a=n(s,`design/${t.name}`),o=n(s,`design/thumbnail_${t.name}`),i=await D(t,480);await d(a,t);const c=await m(a);await d(o,i);const p=await m(o);await b(h(g,"design",new Date().toISOString()),{fileName:e,image:c,thumbnail:p}),f(),r("Image Succesfully Uploaded",{theme:localStorage.getItem("theme")=="dark"?"dark":"auto",type:"success",position:"bottom-right",dangerouslyHTMLString:!0})}catch(e){r("Error uploading image, "+e,{theme:localStorage.getItem("theme")=="dark"?"dark":"auto",type:"error",position:"bottom-right",dangerouslyHTMLString:!0})}else u.fire({icon:"error",title:"Oops...",text:"Please select an image to upload!"}),r("Oopss.., Please select an image to upload!",{theme:localStorage.getItem("theme")=="dark"?"dark":"auto",type:"error",position:"bottom-right",dangerouslyHTMLString:!0})};export{R as a,H as c,B as d,f as g};
